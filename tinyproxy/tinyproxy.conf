##
## tinyproxy.conf -- Configuration for tinyproxy
##

# User/Group to run as (tinyproxy user is created by package)
User tinyproxy
Group tinyproxy

# Port to bind to
Port 8888

# Bind to all interfaces inside the container
Listen 0.0.0.0

# Timeout for connections (in seconds)
Timeout 600

# Default error page directory
DefaultErrorFile "/usr/share/tinyproxy/default.html"

# Log level: Critical, Error, Warning, Notice, Connect, Info
# "Connect" logs connection attempts which is what we want
LogLevel Connect

# PID file
PidFile "/run/tinyproxy.pid"

# Maximum number of clients
MaxClients 100

# Allow all IPs (filtering is by hostname, not source IP)
Allow 0.0.0.0/0

# Filter configuration
Filter "/etc/tinyproxy/allowlist"
FilterURLs On
FilterType ere
FilterCaseSensitive Off
FilterDefaultDeny Yes

# Disable ViaProxyName for privacy
DisableViaHeader Yes

# Connection options
ConnectPort 443
ConnectPort 80
