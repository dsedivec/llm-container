# -*- mode: sh; -*-
HISTFILE=$HOME/.persist/bash_history
install -d -m 0700 "$(dirname "$HISTFILE")"
HISTFILESIZE=1000000
HISTSIZE=1000000
HISTCONTROL=ignoredups:ignorespace
# Show date and time with history lines.
HISTTIMEFORMAT='%F %T '
# Append to history.
shopt -s histappend
if [ -n "$HISTFILE" ]; then
        # Append after every command.  I'm hoping this prevents the last
        # shell to exit from obliterating the history of every other shell
        # I have open.
        PROMPT_COMMAND="${PROMPT_COMMAND:+${PROMPT_COMMAND}; }history -a"
fi
